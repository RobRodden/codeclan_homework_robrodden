glimpse(books_data)
books_data %>%
group_by(publisher) %>%
summarise(
count = n()
) %>%
arrange(count)
books_data %>%
group_by(language_code)
books_data %>%
group_by(language_code) %>%
summarise(count = n())
books_data %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
?mutate
?if_else
# attempt to merge the 4 english types together: english: "eng", "en-US", "en-GB" and "en-CA"
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code)
) %>%
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code)
)
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code)
) %>%
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code)
) %>%
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code)
books_data_merged_eng_lang <- books_data %>%
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code)
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code)
books_data_merged_eng_lang <- books_data %>%
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code))
books_data_merged_eng_lang
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code))
books_data_merged_eng_lang
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
# attempt to merge the 4 english types together: english: "eng", "en-US", "en-GB" and "en-CA"
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code))
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code)) %>%
mutate(language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code)) %>%
mutate(language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code)) %>%
mutate(language_code_merge_eng2 = if_else(language_code == "en-GB", "eng", language_code)) %>%
mutate(language_code_merge_eng3 = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code)) %>%
mutate(language_code_merge_eng2 = if_else(language_code == "en-GB", "eng", language_code)) %>%
mutate(language_code_merge_eng3 = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang3
# attempt to merge the 4 english types together: english: "eng", "en-US", "en-GB" and "en-CA"
books_data_merged_eng_lang <- books_data %>%
select(language_code)
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code_merge_eng = recode(language_cade, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"), .after = language_code)
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_cade, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"), .after = language_code)
books_data_merged_eng_lang <- books_data %>%
select(language_code)
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_cade, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"), .after = language_code)
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_cade, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"))
books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_cade, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"))
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"))
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng")) %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng")) %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng")) %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"))
books_data_merged_eng_lang
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"),
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"),
group_by(language_code) %>%
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"),
group_by(language_code) %>%
summarise(count = n()) %>%
books_data_merged_eng_lang <- books_data %>%
select(language_code) %>%
mutate(language_code = recode(language_code, "en-US" = "eng","en-GB" = "eng", "en-CA" = "eng"),
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
books_data_merged_eng_lang
books_data_merged_eng_lang %>%
group_by(language_code_merge_eng) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang %>%
group_by(language_code) %>%
summarise(n = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang %>%
group_by(language_code) %>%
summarise(n = n()) %>%
arrange(desc(n))
books_data_merged_eng_lang %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
?summarise
books_data_merged_eng_lang %>%
group_by(language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
names(books_data)
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code)
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code)
books_data_merged_eng_lang <- books_data %>%
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n()) %>%
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang <- books_data %>%
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n()))
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n())
books_data_merged_eng_lang <- books_data %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang
books_data_merged_eng_lang <- books_data
books_data_merged_eng_lang <- books_data %>%
group_by(language_code)
books_data_merged_eng_lang <- books_data %>%
group_by(language_code) %>%
mutate(
language_code_merge_eng = if_else(language_code == "en-US", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-GB", "eng", language_code),
language_code_merge_eng = if_else(language_code == "en-CA", "eng", language_code), .after = language_code) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data_merged_eng_lang
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n())
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(desc(character_count))
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(desc(publishers_listed))
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(desc(publishers))
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(desc(publisher))
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(publisher)
books_data %>%
group_by(publisher) %>%
summarise(
count = n()
) %>%
arrange(count)
books_data %>%
group_by(publisher) %>%
summarise(
count = n()
) %>%
arrange(desc(count))
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(publisher)
publishers_listed <- group_by(books_data, publisher)
summarise(publishers_listed, character_count = n()) %>%
arrange(publisher)
str(books_data)
books_data %>%
filter(is.na(publisher)) %>%
group_by(publisher) %>%
summarise(
count = n ()
) %>%
arrange(count)
sapply(books_data, function(x) sum(is.na(x)))
books_data %>%
filter(is.na(publisher)) %>%
group_by(publisher) %>%
summarise(
count = n ()
) %>%
arrange(count)
### found this alternative online - I think this gives a more understandible view
sapply(books_data, function(x) sum(is.na(x)))
# here's an alternative, more efficient way
# again this seems to back up the finding that there no gaps in the data
books_data %>%
summarise(count = sum(is.na(books_data)))
# here should work out mean, median for? number of pages mean?
books_data_avg_pages <- books_data %>%
select(num_pages)
mutate(avg_pages = )
books_data_avg_pages <- books_data %>%
select(num_pages) %>%
mutate(avg_pages = mean(avg_pages), .after = num_pages)
books_data_avg_pages <- books_data %>%
select(num_pages) %>%
summarise(avg_pages = mean(avg_pages), .after = num_pages)
books_data_avg_pages <- books_data %>%
group_by(num_pages) %>%
summarise(avg_pages = mean(avg_pages), .after = num_pages)
books_data_avg_pages <- books_data %>%
group_by(num_pages) %>%
summarise(avg_pages = mean(num_pages), .after = num_pages)
books_data_avg_pages
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
ggplot(books_data_avg_pages, aes(publisher, author)) + geom_point()
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
ggplot(books_data_avg_pages, aes(publishers, authors)) + geom_point()
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
ggplot(books_data_avg_pages, aes(publisher, authors)) + geom_point()
ggplot(books_data_avg_pages, aes(publisher, authors)) + geom_point()
ggplot(books_data_avg_pages, aes(ratings_count, authors)) + geom_point()
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
ggplot(books_data_avg_pages, aes(ratings_count, authors)) + geom_point()
books_data_avg_pages <- books_data %>%
summarise(avg_pages = mean(num_pages))
books_data_avg_pages
books_data %>%
group_by(num_pages) %>%
summarise(count = n()) %>%
arrange(desc(count))
have_died <- filter(all_deaths, !is.na(book_of_death)
have_died <- filter(all_deaths, !is.na(book_of_death))
have_died <- filter(all_deaths, !is.na(book_of_death))
have_died <- filter(all_deaths, !is.na(book_of_death)
books_data %>%
books_data
books_data %>%
group_by(title, authors, average_rating)
books_data %>%
group_by(title, authors, average_rating) %>%
summarise(count = n())
books_data %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(count))
books_data %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(count), .after = title)
books_data %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(count), .after = title)
books_data %>%
select(title, authors, average_rating) %>%
group_by(title) %>%
summarise(count = n()) %>%
arrange(desc(count), .after = title)
books_data %>%
select(title, authors, average_rating) %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(count), .after = title)
books_data %>%
select(title, authors, average_rating) %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(average_rating))
books_data %>%
select(title, authors, average_rating, ratings_count) %>%
filter(ratings_count => 15000) %>%
?filter
books_data %>%
?filter(ratings_count => 15000) %>%
books_data %>%
filter(ratings_count => 15000) %>%
books_data %>%
filter(ratings_count >= 15000) %>%
select(title, authors, average_rating, ratings_count) %>%
group_by(title, authors, average_rating) %>%
summarise(count = n()) %>%
arrange(desc(average_rating))
knitr::opts_chunk$set(echo = TRUE, eval = TRUE, message = F)
books %>%
group_by(publisher) %>%
summarise(n_titles = n()) %>%
arrange(desc(n_titles))
books_data %>%
group_by(publisher) %>%
summarise(n_titles = n()) %>%
arrange(desc(n_titles))
penguin_names <- c("Penguin Books", "Penguin Classics")
books %>%
filter(publisher %in% penguin_names) %>%
nrow()
library(tidyverse)
books <- read_csv("data/books.csv")
anytime(publication_date)
library(anytime)
library(anytime)
?anytime
??anytime
install.packages(anytime)
library(anytime)
library(tidyverse)
library(anytime)
install.packages("anytime")
